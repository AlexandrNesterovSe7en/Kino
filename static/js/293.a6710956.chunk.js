"use strict";(self.webpackChunkkinopoisk=self.webpackChunkkinopoisk||[]).push([[293,642],{8642:(e,s,i)=>{i.r(s),i.d(s,{default:()=>R});var t=i(7689);const n="FilmPage_container__EMQNY",r="FilmPage_imgContainer__wQnw7",a="FilmPage_container_info__IOPhd";var c=i(2791),l=i(8609),o=i(1273),d=i(1313);const h="CategoriesMovie_container__kKwYY",m="CategoriesMovie_main__9HW+m",u="CategoriesMovie_categories__yALBk";var v=i(184);const x=e=>{let{title:s}=e;return(0,v.jsxs)("div",{className:h,children:[(0,v.jsx)(d.Z,{path:"/",text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",className:m}),"|",(0,v.jsx)(d.Z,{path:"/Categories",text:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",className:u}),"|",(0,v.jsx)("p",{children:s})]})};var g=i(991);const _="MovieContent_contentContainer__WyTgq",p="MovieContent_filmNamgeImg__rzv90",j="MovieContent_rating__Oofgz",b="MovieContent_characteristic__vHucQ",C="MovieContent_button__cVqN7",f=e=>{let{movieData:s}=e;const i=s.categories?Object.keys(s.categories).join(","):"";return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:_,children:[(0,v.jsx)("img",{className:p,src:s.titleImg,fetchpriority:"high",alt:"Film-Name"}),(0,v.jsxs)("div",{className:j,children:[(0,v.jsx)("span",{children:""===s.rating?null:s.rating}),s.year]}),(0,v.jsxs)("div",{className:b,children:[i," | ",s.time," | ",s.ageLimit]}),(0,v.jsx)("div",{children:s.desc}),(0,v.jsxs)(g.Z,{className:C,children:[(0,v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:"M12.3845 22.9934C12.2569 22.9978 12.1287 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 15.7203 21.1531 19.0093 18.3262 21H22.5C23.0523 21 23.5 21.4477 23.5 22C23.5 22.5523 23.0523 23 22.5 23H12.5C12.4609 23 12.4224 22.9978 12.3845 22.9934ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7ZM12 19C13.1046 19 14 18.1046 14 17C14 15.8954 13.1046 15 12 15C10.8954 15 10 15.8954 10 17C10 18.1046 10.8954 19 12 19ZM7 10C8.10457 10 9 10.8954 9 12C9 13.1046 8.10457 14 7 14C5.89543 14 5 13.1046 5 12C5 10.8954 5.89543 10 7 10ZM19 12C19 10.8954 18.1046 10 17 10C15.8954 10 15 10.8954 15 12C15 13.1046 15.8954 14 17 14C18.1046 14 19 13.1046 19 12Z",fillRule:"evenodd",clipRule:"evenodd"})}),"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0442\u0440\u0435\u0439\u043b\u0435\u0440"]})]})})};var y=i(4420);const N="AddFavoriteFilm_container__W-Wol",w="AddFavoriteFilm_circle__Ui0na";var M=i(5655);const I=e=>{let{idFilm:s}=e;const i=(0,y.v9)((e=>e.currentUser.user)),t=(0,M.Z)(),[n,r]=(0,c.useState)(!1);(0,c.useEffect)((()=>{}),[n]),(0,c.useEffect)((()=>{const e=(0,l.iH)(o.F,"Users/"+i.uid+"/Favorite");(0,l.U2)(e).then((e=>{e.exists()&&(Object.keys(e.val()).includes(s)?r(!0):r(!1))}))}),[]);const a=t(1e3,(function(){const e=(0,l.iH)(o.F,"Users/"+i.uid+"/Favorite"),t=(0,l.iH)(o.F,"Users/"+i.uid);(0,l.U2)(e).then((i=>{if(i.exists())if(Object.keys(i.val()).includes(s))(0,l.Vx)(e,{[s]:null}),(0,l.U2)(t).then((e=>{Object.keys(e.val()).includes("Favorite")||(0,l.Vx)(t,{Favorite:""})})),r(!1);else{const i={};i[s]=!0,(0,l.Vx)(e,i),r(!0)}}))}));return(0,v.jsxs)("div",{onClick:()=>i?a():null,className:N,children:[(0,v.jsx)(g.Z,{className:w,children:(0,v.jsx)("svg",{style:{fill:n?"red":"white"},viewBox:"-5 -5 34 34",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:"M6.11153 3.68257C6.47106 3.56911 6.69517 3.52352 7.3085 3.43899C7.55111 3.40557 8.42381 3.45755 8.75957 3.52546C9.80641 3.73714 10.8203 4.25353 11.6951 5.02058L11.9902 5.27936L12.3307 4.95668C13.1005 4.22719 14.1295 3.7099 15.1869 3.52085C15.7672 3.4171 16.6844 3.42565 17.2426 3.54001C19.4683 3.99596 21.1362 5.67089 21.6336 7.94946C21.7399 8.43632 21.7414 9.61118 21.6365 10.1706C21.2935 11.9989 20.388 13.7216 18.8317 15.5063C18.2985 16.1179 17.007 17.3662 16.3184 17.9358C15.5584 18.5643 14.595 19.2785 13.6958 19.8798C12.8433 20.4499 12.543 20.5714 11.9875 20.5714C11.4271 20.5714 11.1538 20.4576 10.1957 19.825C8.48553 18.6958 7.19942 17.6569 5.95919 16.4027C4.8283 15.259 4.18102 14.4306 3.50837 13.2659C1.73761 10.1999 1.90031 7.02194 3.93127 5.0075C4.56997 4.37398 5.27161 3.94761 6.11153 3.68257Z"})})}),(0,v.jsx)("div",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]})},F="InfoMovie_container__88p4m",k="InfoMovie_container_info__ezg+T",S="InfoMovie_container_categories__UcIAI",Z="InfoMovie_link__Pw-TK",W=e=>{let{country:s,categories:i}=e;const t=Object.keys(i);return(0,v.jsxs)("div",{className:F,children:[(0,v.jsx)("h2",{children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),(0,v.jsxs)("div",{className:k,children:[(0,v.jsx)("h3",{children:"\u0421\u0442\u0440\u0430\u043d\u0430"}),(0,v.jsx)("p",{children:s})]}),(0,v.jsxs)("div",{className:k,children:[(0,v.jsx)("h3",{children:"\u0416\u0430\u043d\u0440\u044b"}),(0,v.jsx)("div",{className:S,children:t.map((e=>(0,v.jsx)(d.Z,{path:"/Categories/"+e,text:e+",",className:Z},e)))})]})]})},U="PlotMovie_container__bCEir",E=e=>{let{children:s}=e;return(0,v.jsxs)("div",{className:U,children:[(0,v.jsx)("h2",{children:"\u0421\u044e\u0436\u0435\u0442"}),(0,v.jsx)("p",{children:s})]})},H="DescriptionMovie_container__T2C9a",O=e=>{let{movieData:s}=e;return(0,v.jsxs)("div",{className:H,children:[(0,v.jsx)(E,{children:null===s||void 0===s?void 0:s.plot}),(0,v.jsx)(W,{country:null===s||void 0===s?void 0:s.country,categories:null===s||void 0===s?void 0:s.categories})]})},A="Rating_container__Zc1vl",P=e=>{let{movieData:s}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h2",{children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),(0,v.jsxs)("div",{className:A,children:[(0,v.jsx)("h3",{children:s}),(0,v.jsx)("p",{children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 Wink"})]})]})},R=()=>{const e=(0,t.UO)(),[s,i]=(0,c.useState)({}),[d,h]=(0,c.useState)(!0);return(0,c.useEffect)((()=>{const s=(0,l.iH)(o.F,"Movies/".concat(e.filmId));(0,l.jM)(s,(e=>{i(e.val()),h(!1)}),{onlyOnce:!0}),window.scrollTo(0,0)}),[e.filmId]),null===s?(0,v.jsx)(t.Fg,{to:"/",replace:!0}):(0,v.jsx)(v.Fragment,{children:d?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:n,children:[(0,v.jsx)("div",{className:r,children:(0,v.jsx)("img",{src:s.bigImg,fetchpriority:"high",alt:"Poster"})}),(0,v.jsx)(x,{title:null===s||void 0===s?void 0:s.title}),(0,v.jsx)(f,{movieData:s}),(0,v.jsx)(I,{idFilm:e.filmId})]}),(0,v.jsxs)("div",{className:a,children:[(0,v.jsx)(O,{movieData:s}),(0,v.jsx)(P,{movieData:s.rating})]})]})})}},1122:(e,s,i)=>{i.r(s),i.d(s,{default:()=>I});i(673);const t=i.p+"static/media/bgImg.c9aa9bf7427b80b46183.jpg",n="Header_header__E+VFH",r="Header_bgImg__OppTq";var a=i(2791);const c="MainModal_modalBg__9Sq2q",l="MainModal_modalWrapper__C0opa",o="MainModal_closeIcon__2qS3K";var d=i(184);const h=e=>{let{text:s,className:i,onClickCallback:t}=e;return(0,d.jsx)("div",{className:c+" "+i,children:(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:t,className:o,height:"24",viewBox:"0 -960 960 960",width:"24",children:(0,d.jsx)("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})}),(0,d.jsx)("h3",{children:s})]})})};var m=i(991);const u="InfoAboutSubscribe_accessWrapper__sQv8D",v="InfoAboutSubscribe_accessText__W6WJM",x="InfoAboutSubscribe_active__6t9ZR",g="InfoAboutSubscribe_infoWrapper__-VX13",_="InfoAboutSubscribe_infoWrapper1__lOtPs";var p=i(1273),j=i(8609),b=i(4420),C=i(3691);const f=()=>{const[e,s]=(0,a.useState)(!1),[i,t]=(0,a.useState)(!1),n=(0,b.v9)((e=>e.currentUser.user)),r=(0,b.I0)();function c(){n&&(r((0,C.Pj)(!0)),s((e=>!e)),(0,j.t8)((0,j.iH)(p.F,"Users/".concat(p.I.currentUser.uid,"/isSubscribe")),!0),(0,j.U2)((0,j.iH)(p.F,"Users/".concat(p.I.currentUser.uid,"/isSubscribe"))).then((e=>{t(e.val())})))}return(0,a.useEffect)((()=>{n&&(0,j.U2)((0,j.iH)(p.F,"Users/".concat(p.I.currentUser.uid,"/isSubscribe"))).then((e=>{t(e.val())}))}),[]),(0,a.useEffect)((()=>(e?(document.body.style.height="100vh",document.body.style.overflow="hidden"):(document.body.style.height=null,document.body.style.overflow=null),()=>{document.body.style.height=null,document.body.style.overflow=null})),[e]),(0,d.jsx)("div",{className:u,children:i?(0,d.jsxs)("div",{className:g,children:[(0,d.jsxs)("h1",{className:v,children:[(0,d.jsx)("span",{children:"\u0412\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b!"}),(0,d.jsx)("br",{}),"\u0412\u0430\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043b\u0443\u0447\u0448\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u044b \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b!"]}),(0,d.jsx)(h,{onClickCallback:c,className:e?x:void 0,text:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443!"})]}):(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)("h1",{className:v,children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a\u043e \u0432\u0441\u0435\u043c \u043f\u0440\u0435\u043c\u0438\u0443\u043c \u0444\u0438\u043b\u044c\u043c\u0430\u043c \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u0430\u043c \u0432\u0441\u0435\u0433\u043e \u0437\u0430 149\u20bd"}),(0,d.jsx)(m.Z,{onClick:()=>c(),children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})})},y=()=>(localStorage.setItem("bgImg",t),(0,d.jsxs)("header",{className:n,children:[(0,d.jsx)("img",{src:localStorage.getItem("bgImg"),alt:"bgImg",className:r}),(0,d.jsx)(f,{})]}));var N=i(3414);const w="MainForFirstPage_mainWrapper__PgbfB",M=()=>(0,d.jsxs)("main",{className:w,children:[(0,d.jsx)(N.Z,{category:"\u041a\u043e\u043c\u0435\u0434\u0438\u0438",limit:6}),(0,d.jsx)(N.Z,{category:"\u0424\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430",limit:6}),(0,d.jsx)(N.Z,{category:"\u0423\u0436\u0430\u0441\u044b",limit:6})]});i(8642);const I=()=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(y,{}),(0,d.jsx)(M,{})]})},5385:(e,s,i)=>{i.d(s,{Z:()=>a});var t=i(1087);const n={cardWrapper:"Card_cardWrapper__RrRk2",cardAnim:"Card_cardAnim__M+5lz",cardDescWrapper:"Card_cardDescWrapper__Nm3Gv",img:"Card_img__uYqII",imgWrapper:"Card_imgWrapper__IUoum",inSubscribe:"Card_inSubscribe__LEttH"};var r=i(184);const a=e=>{let{img:s,title:i,inSub:a,rating:c,uid:l}=e;return(0,r.jsxs)("div",{className:n.cardWrapper,children:[(0,r.jsxs)("div",{className:n.imgWrapper,children:[c?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("span",{children:["\u2605 ",1===c.toString().length?c+".0":c]})}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)(t.rU,{to:"/FilmPage/".concat(l),children:(0,r.jsx)("img",{src:s,alt:"card-img",className:n.img})})]}),(0,r.jsxs)("div",{className:n.cardDescWrapper,children:[(0,r.jsxs)("div",{className:n.titleWrapper,children:[(0,r.jsx)("div",{className:n.titleShadow}),(0,r.jsx)("h4",{children:i})]}),(0,r.jsx)("p",{className:n.inSubscribe,children:a?"\u0412 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0435":"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e"})]})]})}},3414:(e,s,i)=>{i.d(s,{Z:()=>x});var t=i(2791),n=i(1087);const r="SeparateCategoryButton_categoryLink__Ktrqv";var a=i(184);const c=e=>{let{category:s,className:i,movieMargin:t}=e;return(0,a.jsxs)(n.rU,{to:"Categories/".concat(s),className:r+" "+i,style:{marginLeft:t||t<0?"".concat(t+1640,"px"):"0"},children:[(0,a.jsx)("h2",{children:s}),(0,a.jsx)("svg",{fill:"white",width:"18px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"})})]})},l="StringMovies_stringMoviesWrapper__2wqfC",o="StringMovies_listMovies__kuHiy",d="StringMovies_rec__hvbEs";var h=i(8609),m=i(1273),u=i(5385),v=i(8290);const x=e=>{let{category:s,limit:i,movieMargin:n}=e;const[r,x]=(0,t.useState)([]),[g,_]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=(0,h.iH)(m.F,"Movies"),t=(0,h.IO)(e,(0,h.g2)("categories/".concat(s)),(0,h.EW)(!0),(0,h.Kk)(i)),n=(0,h.IO)(e,(0,h.g2)("rating"),(0,h.Wu)("9.2"),(0,h.vh)(i));(0,h.U2)("\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c"===s?n:t).then((e=>{e.exists&&(x(Object.entries(e.val())),_(!1))}),{onclyOnce:!0})}),[]),(0,a.jsxs)("div",{className:l,children:[(0,a.jsx)(c,{category:s,className:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c"===s?d:null,movieMargin:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c"===s?n:null}),(0,a.jsx)("div",{className:o,style:{flexWrap:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c"===s?"nowrap":"wrap"},children:g?function(){const e=[];for(let s=0;s<i;s++)e.push((0,a.jsx)(v.y,{baseColor:"#202020",highlightColor:"#444",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(v.Z,{count:1,width:"158px",height:"228px",borderRadius:"10px"}),(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[(0,a.jsx)(v.Z,{count:1,width:"158px",height:"20px",borderRadius:"10px"}),(0,a.jsx)("div",{style:{marginTop:"3px"},children:(0,a.jsx)(v.Z,{count:1,width:"108px",height:"17px",borderRadius:"10px"})})]})]})},s));return e}():r.map((e=>{let[s,i]=e;return(0,a.jsx)(u.Z,{uid:s,img:null===i||void 0===i?void 0:i.img,title:null===i||void 0===i?void 0:i.title,inSub:null===i||void 0===i?void 0:i.inSub,rating:null===i||void 0===i?void 0:i.rating},s)}))})]})}},991:(e,s,i)=>{i.d(s,{Z:()=>r});const t="MainButton_mainButton__fhjMX";var n=i(184);const r=e=>{let{children:s,className:i,...r}=e;return(0,n.jsxs)("button",{...r,className:t+" "+i,children:[" ",s," "]})}},5655:(e,s,i)=>{i.d(s,{Z:()=>t});const t=()=>function(e,s){var i,t,n=!1;return function r(){if(n)return i=arguments,void(t=this);n=!0,s.apply(this,arguments),setTimeout((()=>{i&&(r.apply(t,i),i=t=null),n=!1}),e)}}},8290:(e,s,i)=>{i.d(s,{Z:()=>c,y:()=>l});var t=i(2791);const n=t.createContext({}),r=!0;function a(e){let{baseColor:s,highlightColor:i,width:t,height:n,borderRadius:a,circle:c,direction:l,duration:o,enableAnimation:d=r}=e;const h={};return"rtl"===l&&(h["--animation-direction"]="reverse"),"number"===typeof o&&(h["--animation-duration"]="".concat(o,"s")),d||(h["--pseudo-element-display"]="none"),"string"!==typeof t&&"number"!==typeof t||(h.width=t),"string"!==typeof n&&"number"!==typeof n||(h.height=n),"string"!==typeof a&&"number"!==typeof a||(h.borderRadius=a),c&&(h.borderRadius="50%"),"undefined"!==typeof s&&(h["--base-color"]=s),"undefined"!==typeof i&&(h["--highlight-color"]=i),h}function c(e){let{count:s=1,wrapper:i,className:c,containerClassName:l,containerTestId:o,circle:d=!1,style:h,...m}=e;var u,v,x;const g=t.useContext(n),_={...m};for(const[t,n]of Object.entries(m))"undefined"===typeof n&&delete _[t];const p={...g,..._,circle:d},j={...h,...a(p)};let b="react-loading-skeleton";c&&(b+=" ".concat(c));const C=null!==(u=p.inline)&&void 0!==u&&u,f=[],y=Math.ceil(s);for(let n=0;n<y;n++){let e=j;if(y>s&&n===y-1){const i=null!==(v=e.width)&&void 0!==v?v:"100%",t=s%1,n="number"===typeof i?i*t:"calc(".concat(i," * ").concat(t,")");e={...e,width:n}}const i=t.createElement("span",{className:b,style:e,key:n},"\u200c");C?f.push(i):f.push(t.createElement(t.Fragment,{key:n},i,t.createElement("br",null)))}return t.createElement("span",{className:l,"data-testid":o,"aria-live":"polite","aria-busy":null!==(x=p.enableAnimation)&&void 0!==x?x:r},i?f.map(((e,s)=>t.createElement(i,{key:s},e))):f)}function l(e){let{children:s,...i}=e;return t.createElement(n.Provider,{value:i},s)}}}]);
//# sourceMappingURL=293.a6710956.chunk.js.map