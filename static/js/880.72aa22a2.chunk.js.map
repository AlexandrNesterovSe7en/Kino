{"version":3,"file":"static/js/880.72aa22a2.chunk.js","mappings":"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","sources":["webpack://kinopoisk/./src/1PAGES/PrivatePages/Film/FilmPage.module.css?ddc9","webpack://kinopoisk/./src/2MODULES/CategoriesMovie/CategoriesMovie.module.css?3819","2MODULES/CategoriesMovie/CategoriesMovie.jsx","webpack://kinopoisk/./src/2MODULES/MovieContent/MovieContent.module.css?2d7d","2MODULES/MovieContent/MovieContent.jsx","webpack://kinopoisk/./src/2MODULES/AddFavoriteFilm/AddFavoriteFilm.module.css?a20c","2MODULES/AddFavoriteFilm/AddFavoriteFilm.jsx","1PAGES/PrivatePages/Film/FilmPage.jsx","webpack://kinopoisk/./src/4UI/Buttons/MainButton/MainButton.module.css?9862","4UI/Buttons/MainButton/MainButton.jsx","HOOKS/useThrottle.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"FilmPage_container__EMQNY\",\"imgAnim\":\"FilmPage_imgAnim__AGKDz\",\"imgContainer\":\"FilmPage_imgContainer__wQnw7\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"CategoriesMovie_container__kKwYY\"};","import NavBarLink from \"../../4UI/Buttons/NavBarLink/NavBarLink\";\r\nimport cl from \"./CategoriesMovie.module.css\";\r\n\r\nconst CategoriesMovie = ({ title }) => {\r\n\r\n    return (\r\n        <div className={cl.container}>\r\n            <NavBarLink path={'/'} text={'Главная'} />\r\n            |\r\n            <NavBarLink path={'/Categories'} text={'Категории'} />\r\n            |\r\n            <p>\r\n                {title}\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategoriesMovie;","// extracted by mini-css-extract-plugin\nexport default {\"contentContainer\":\"MovieContent_contentContainer__WyTgq\",\"filmNamgeImg\":\"MovieContent_filmNamgeImg__rzv90\",\"rating\":\"MovieContent_rating__Oofgz\",\"characteristic\":\"MovieContent_characteristic__vHucQ\",\"button\":\"MovieContent_button__cVqN7\"};","import MainButton from '../../4UI/Buttons/MainButton/MainButton';\r\nimport cl from './MovieContent.module.css';\r\nconst MovieContent = ({ movieData }) => {\r\n    const categories = movieData.categories ? Object.keys(movieData.categories).join(',') : '';\r\n\r\n    return (\r\n        <>\r\n            <div className={cl.contentContainer}>\r\n                <img className={cl.filmNamgeImg} src={movieData.titleImg} fetchpriority=\"high\" alt=\"Film-Name\" />\r\n                <div className={cl.rating}>\r\n                    <span>\r\n                        {movieData.rating === '' ? 'none' : movieData.rating}\r\n                    </span>\r\n                    {movieData.year}\r\n                </div>\r\n                <div className={cl.characteristic}>\r\n                    {categories} | {movieData.time} | {movieData.ageLimit}\r\n                </div>\r\n                <div>\r\n                    {movieData.desc}\r\n                </div>\r\n                <MainButton className={cl.button}><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.3845 22.9934C12.2569 22.9978 12.1287 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 15.7203 21.1531 19.0093 18.3262 21H22.5C23.0523 21 23.5 21.4477 23.5 22C23.5 22.5523 23.0523 23 22.5 23H12.5C12.4609 23 12.4224 22.9978 12.3845 22.9934ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7ZM12 19C13.1046 19 14 18.1046 14 17C14 15.8954 13.1046 15 12 15C10.8954 15 10 15.8954 10 17C10 18.1046 10.8954 19 12 19ZM7 10C8.10457 10 9 10.8954 9 12C9 13.1046 8.10457 14 7 14C5.89543 14 5 13.1046 5 12C5 10.8954 5.89543 10 7 10ZM19 12C19 10.8954 18.1046 10 17 10C15.8954 10 15 10.8954 15 12C15 13.1046 15.8954 14 17 14C18.1046 14 19 13.1046 19 12Z\" fillRule=\"evenodd\" clipRule=\"evenodd\"></path></svg>Смотреть трейлер</MainButton>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MovieContent;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"AddFavoriteFilm_container__W-Wol\",\"circle\":\"AddFavoriteFilm_circle__Ui0na\"};","import { useSelector } from \"react-redux\";\r\nimport MainButton from \"../../4UI/Buttons/MainButton/MainButton\";\r\nimport cl from './AddFavoriteFilm.module.css';\r\nimport { database } from \"../../FireBase/FireBase\";\r\nimport { ref, update } from \"firebase/database\";\r\nimport useThrottle from \"../../HOOKS/useThrottle\";\r\n\r\nconst AddFavoriteFilm = ({ idFilm }) => {\r\n    const user = useSelector(state => state.currentUser.user)\r\n    const throttle = useThrottle();\r\n\r\n    const addFavorite = throttle(1000, function () {\r\n        const r = ref(database, 'Users/' + user.uid + '/Favorite');\r\n        const updates = {};\r\n        updates[idFilm] = true;\r\n        update(r, updates)\r\n    })\r\n\r\n    return (\r\n        <div onClick={() => user ? addFavorite() : null} className={cl.container}>\r\n            <MainButton className={cl.circle}>\r\n                <svg viewBox=\"-5 -5 34 34\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.11153 3.68257C6.47106 3.56911 6.69517 3.52352 7.3085 3.43899C7.55111 3.40557 8.42381 3.45755 8.75957 3.52546C9.80641 3.73714 10.8203 4.25353 11.6951 5.02058L11.9902 5.27936L12.3307 4.95668C13.1005 4.22719 14.1295 3.7099 15.1869 3.52085C15.7672 3.4171 16.6844 3.42565 17.2426 3.54001C19.4683 3.99596 21.1362 5.67089 21.6336 7.94946C21.7399 8.43632 21.7414 9.61118 21.6365 10.1706C21.2935 11.9989 20.388 13.7216 18.8317 15.5063C18.2985 16.1179 17.007 17.3662 16.3184 17.9358C15.5584 18.5643 14.595 19.2785 13.6958 19.8798C12.8433 20.4499 12.543 20.5714 11.9875 20.5714C11.4271 20.5714 11.1538 20.4576 10.1957 19.825C8.48553 18.6958 7.19942 17.6569 5.95919 16.4027C4.8283 15.259 4.18102 14.4306 3.50837 13.2659C1.73761 10.1999 1.90031 7.02194 3.93127 5.0075C4.56997 4.37398 5.27161 3.94761 6.11153 3.68257Z\"></path></svg>\r\n            </MainButton>\r\n            <div>\r\n                Добавить в избранное\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddFavoriteFilm;","import { Navigate, useParams } from \"react-router-dom\";\r\nimport cl from \"./FilmPage.module.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { onValue, ref } from \"firebase/database\";\r\nimport { database } from \"../../../FireBase/FireBase\";\r\nimport CategoriesMovie from \"../../../2MODULES/CategoriesMovie/CategoriesMovie\";\r\nimport MovieContent from \"../../../2MODULES/MovieContent/MovieContent\";\r\nimport AddFavoriteFilm from \"../../../2MODULES/AddFavoriteFilm/AddFavoriteFilm\";\r\n\r\n\r\n\r\nconst FilmPage = () => {\r\n\r\n    const param = useParams();\r\n    const [movie, setMovie] = useState({})\r\n    const [fetching, setFetching] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const movieRef = ref(database, `Movies/${param.filmId}`)\r\n\r\n        onValue(movieRef, snap => {\r\n            setMovie(snap.val())\r\n            setFetching(false);\r\n        }, { onlyOnce: true })\r\n\r\n        window.scrollTo(0, 0);\r\n    }, [param.filmId])\r\n    if (movie === null) {\r\n       return <Navigate to='/' replace={true} />\r\n    }\r\n    return (\r\n        <>\r\n            {fetching ?\r\n                null\r\n                :\r\n                <div className={cl.container}>\r\n                    <div className={cl.imgContainer}>\r\n                        <img src={movie.bigImg} fetchpriority=\"high\" alt=\"Poster\" />\r\n                    </div>\r\n                    <CategoriesMovie title={movie?.title}/>\r\n                    <MovieContent movieData={movie}/>               \r\n                    <AddFavoriteFilm idFilm={param.filmId}/>\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FilmPage;","// extracted by mini-css-extract-plugin\nexport default {\"mainButton\":\"MainButton_mainButton__fhjMX\"};","import cl from \"./MainButton.module.css\";\n\nconst MainButton = ({ children, className, ...props}) => {\n    \n    return (\n        <button {...props} className={cl.mainButton + ' ' + className}> {children} </button>\n    );\n}\n\nexport default MainButton;","const useThrottle = () => {\r\n    function throttle(ms, fc) {\r\n        var isThrottled = false;\r\n        var savedArgs;\r\n        var savedThis;\r\n\r\n        return function wrapper(){\r\n            if (isThrottled) {\r\n                savedArgs = arguments;\r\n                savedThis = this;\r\n                return;\r\n            }\r\n\r\n            isThrottled = true;\r\n\r\n            fc.apply(this, arguments);\r\n\r\n            setTimeout(() => {\r\n                if(savedArgs){\r\n                    wrapper.apply(savedThis, savedArgs);\r\n                    savedArgs = savedThis = null;\r\n                }\r\n                isThrottled = false;\r\n            }, ms)\r\n        }\r\n    }\r\n\r\n    return throttle;\r\n};\r\n\r\nexport default useThrottle;"],"names":["_ref","title","_jsxs","className","cl","children","_jsx","NavBarLink","path","text","movieData","categories","Object","keys","join","_Fragment","src","titleImg","fetchpriority","alt","rating","year","time","ageLimit","desc","MainButton","width","height","viewBox","xmlns","d","fillRule","clipRule","idFilm","user","useSelector","state","currentUser","addFavorite","useThrottle","throttle","r","ref","database","uid","updates","update","onClick","FilmPage","param","useParams","movie","setMovie","useState","fetching","setFetching","useEffect","movieRef","concat","filmId","onValue","snap","val","onlyOnce","window","scrollTo","Navigate","to","replace","bigImg","CategoriesMovie","MovieContent","AddFavoriteFilm","props","ms","fc","savedArgs","savedThis","isThrottled","wrapper","arguments","this","apply","setTimeout"],"sourceRoot":""}