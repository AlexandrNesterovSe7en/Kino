"use strict";(self.webpackChunkkinopoisk=self.webpackChunkkinopoisk||[]).push([[440],{4440:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});var n=i(2791),r=i(1273);const s="FavoritePage_favoritePageWrapper__o+CpU",a="FavoritePage_favoritePageWrapperInset__WDLyL",o="FavoritePage_listMovies__IpMpO";var c=i(8609),l=i(5385),d=i(2777),u=i(8290),p=i(5655),m=i(184);const h=()=>{const[e,t]=(0,n.useState)([]),[i,h]=(0,n.useState)(d.VZ),[g,v]=(0,n.useState)(!0),f=(0,p.Z)(),x=f(100,(()=>{v(!1);const e=(0,c.iH)(r.F,"Users/".concat(r.I.currentUser.uid,"/Favorite"));(0,c.U2)(e).then((e=>{e.exists()&&(Object.keys(e.val()).map((e=>{(0,c.U2)((0,c.iU)((0,c.iH)(r.F,"Movies"),e)).then((i=>{t((t=>[...t,[e,i.val()]]))}))})),h((e=>e+d.VZ)),v(!0))}))})),b=function(){if(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-200<=document.documentElement.scrollTop+document.documentElement.clientHeight&&g){if(e.length+d.VZ<i)return;x()}};return(0,n.useEffect)((()=>{x(),window.scrollTo(0,0)}),[]),(0,n.useEffect)((()=>(window.addEventListener("scroll",b),()=>{window.removeEventListener("scroll",b)})),[i,g]),(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:s,children:(0,m.jsxs)("div",{className:a,children:[(0,m.jsx)("h2",{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),(0,m.jsxs)("div",{className:o,children:[e.map((e=>{let[t,i]=e;return(0,m.jsx)(l.Z,{uid:t,img:null===i||void 0===i?void 0:i.img,title:null===i||void 0===i?void 0:i.title,inSub:null===i||void 0===i?void 0:i.inSub,rating:null===i||void 0===i?void 0:i.rating},t)})),g?null:function(){const e=[];for(let t=0;t<30;t++)e.push((0,m.jsx)(u.y,{baseColor:"#202020",highlightColor:"#444",children:(0,m.jsxs)("p",{children:[(0,m.jsx)(u.Z,{count:1,width:"158px",height:"228px",borderRadius:"10px"}),(0,m.jsxs)("div",{style:{marginTop:"10px"},children:[(0,m.jsx)(u.Z,{count:1,width:"158px",height:"20px",borderRadius:"10px"}),(0,m.jsx)("div",{style:{marginTop:"3px"},children:(0,m.jsx)(u.Z,{count:1,width:"108px",height:"17px",borderRadius:"10px"})})]})]})},t));return e}()]})]})})})}},5385:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(1087);const r={cardWrapper:"Card_cardWrapper__RrRk2",cardAnim:"Card_cardAnim__M+5lz",cardDescWrapper:"Card_cardDescWrapper__Nm3Gv",img:"Card_img__uYqII",imgWrapper:"Card_imgWrapper__IUoum",inSubscribe:"Card_inSubscribe__LEttH"};var s=i(184);const a=e=>{let{img:t,title:i,inSub:a,rating:o,uid:c}=e;return(0,s.jsxs)("div",{className:r.cardWrapper,children:[(0,s.jsxs)("div",{className:r.imgWrapper,children:[o?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("span",{children:["\u2605 ",1===o.toString().length?o+".0":o]})}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)(n.rU,{to:"/FilmPage/".concat(c),children:(0,s.jsx)("img",{src:t,alt:"card-img",className:r.img})})]}),(0,s.jsxs)("div",{className:r.cardDescWrapper,children:[(0,s.jsxs)("div",{className:r.titleWrapper,children:[(0,s.jsx)("div",{className:r.titleShadow}),(0,s.jsx)("h4",{children:i})]}),(0,s.jsx)("p",{className:r.inSubscribe,children:a?"\u0412 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0435":"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e"})]})]})}},2777:(e,t,i)=>{i.d(t,{VZ:()=>n});const n=18},5655:(e,t,i)=>{i.d(t,{Z:()=>n});const n=()=>function(e,t){var i,n,r=!1;return function s(){if(r)return i=arguments,void(n=this);r=!0,t.apply(this,arguments),setTimeout((()=>{i&&(s.apply(n,i),i=n=null),r=!1}),e)}}},8290:(e,t,i)=>{i.d(t,{Z:()=>o,y:()=>c});var n=i(2791);const r=n.createContext({}),s=!0;function a(e){let{baseColor:t,highlightColor:i,width:n,height:r,borderRadius:a,circle:o,direction:c,duration:l,enableAnimation:d=s}=e;const u={};return"rtl"===c&&(u["--animation-direction"]="reverse"),"number"===typeof l&&(u["--animation-duration"]="".concat(l,"s")),d||(u["--pseudo-element-display"]="none"),"string"!==typeof n&&"number"!==typeof n||(u.width=n),"string"!==typeof r&&"number"!==typeof r||(u.height=r),"string"!==typeof a&&"number"!==typeof a||(u.borderRadius=a),o&&(u.borderRadius="50%"),"undefined"!==typeof t&&(u["--base-color"]=t),"undefined"!==typeof i&&(u["--highlight-color"]=i),u}function o(e){let{count:t=1,wrapper:i,className:o,containerClassName:c,containerTestId:l,circle:d=!1,style:u,...p}=e;var m,h,g;const v=n.useContext(r),f={...p};for(const[n,r]of Object.entries(p))"undefined"===typeof r&&delete f[n];const x={...v,...f,circle:d},b={...u,...a(x)};let y="react-loading-skeleton";o&&(y+=" ".concat(o));const j=null!==(m=x.inline)&&void 0!==m&&m,_=[],w=Math.ceil(t);for(let r=0;r<w;r++){let e=b;if(w>t&&r===w-1){const i=null!==(h=e.width)&&void 0!==h?h:"100%",n=t%1,r="number"===typeof i?i*n:"calc(".concat(i," * ").concat(n,")");e={...e,width:r}}const i=n.createElement("span",{className:y,style:e,key:r},"\u200c");j?_.push(i):_.push(n.createElement(n.Fragment,{key:r},i,n.createElement("br",null)))}return n.createElement("span",{className:c,"data-testid":l,"aria-live":"polite","aria-busy":null!==(g=x.enableAnimation)&&void 0!==g?g:s},i?_.map(((e,t)=>n.createElement(i,{key:t},e))):_)}function c(e){let{children:t,...i}=e;return n.createElement(r.Provider,{value:i},t)}}}]);
//# sourceMappingURL=440.84cf6b74.chunk.js.map