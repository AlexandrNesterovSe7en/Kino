{"version":3,"file":"static/js/518.755e1bfb.chunk.js","mappings":"iKACA,QAAyC,4CAAzC,EAAsJ,6CAAtJ,EAAoO,oD,+CCQpO,MAwBA,EAxBqBA,KACjB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,OAC5BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,MAGzC,SAASG,EAAaC,GAClBA,EAAEC,kBAEFC,EAAAA,EAAAA,IAA+BC,EAAAA,EAAMT,EAAOG,GAAUO,OAAOC,IAAUC,MAAMD,EAAI,GACrF,CAEA,OACIE,EAAAA,EAAAA,MAAA,QAAMC,SAAUT,EAAcU,UAAWC,EAA0BC,SAAA,EAC/DC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAA2BC,SAAC,wEAG3CC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAACC,SAAWd,GAAML,EAASK,EAAEe,OAAOC,OAAQC,KAAK,OAAOC,YAAY,WAC9EN,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAACC,SAAWd,GAAMF,EAAYE,EAAEe,OAAOC,OAAQC,KAAK,WAAWC,YAAY,cACrFN,EAAAA,EAAAA,KAACO,EAAAA,EAAU,CAACC,QAASrB,EAAaY,SAAC,kHACnCJ,EAAAA,EAAAA,MAAA,KAAGE,UAAWC,EAAkCC,SAAA,CAAC,8EAAcC,EAAAA,EAAAA,KAACS,EAAAA,GAAI,CAACC,GAAG,UAASX,SAAC,mCAC/E,E,sBCpBf,MA6BA,EA7BiBY,KACb,MAAMC,GAAcC,EAAAA,EAAAA,KAAYC,GAASA,EAAMF,YAAYG,OACrDC,GAAWC,EAAAA,EAAAA,MAEXC,GADgBC,EAAAA,EAAAA,MACQL,MAsB9B,OApBAM,EAAAA,EAAAA,kBAAgB,KACTR,IACKM,EACAF,EAASE,EAAQG,MAAM,GAAI,CAACC,SAAS,KAErCN,EAAS,IAAK,CAACM,SAAS,KAExBC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIC,EAAAA,EAAU,SAAU,CAC5B,CAAClC,EAAAA,EAAKqB,YAAYc,KAAM,MAG3BC,EAAAA,EAAAA,KAAIH,EAAAA,EAAAA,IAAIC,EAAAA,EAAS,SAADG,OAAWrC,EAAAA,EAAKqB,YAAYc,MAAQ,CAChDG,aAAa,IAEjBC,QAAQC,IAAIxC,EAAAA,EAAKqB,YAAYc,MAErC,GAED,CAACd,KAEGZ,EAAAA,EAAAA,KAACnB,EAAY,GAAG,C,iCClC3B,QAA6B,+B,aCC7B,MAOA,EAPmBmD,IAAuC,IAAtC,SAAEjC,EAAQ,UAAEF,KAAcoC,GAAMD,EAEhD,OACIrC,EAAAA,EAAAA,MAAA,aAAYsC,EAAOpC,UAAWC,EAAgB,IAAMD,EAAUE,SAAA,CAAC,IAAEA,EAAS,MAAU,C,iCCJ5F,QAA4B,6B,aCG5B,MAOA,EAPkBiC,IAA4B,IAA3B,UAACnC,KAAcoC,GAAMD,EAEpC,OACIhC,EAAAA,EAAAA,KAAA,YAAWiC,EAAOpC,UAAWC,EAAe,IAAMD,GAAa,C","sources":["webpack://kinopoisk/./src/2MODULES/Auth/Registration/Registation.module.css?cb40","2MODULES/Auth/Registration/Registration.jsx","1PAGES/PublicPages/HelpersPages/Auth/AuthPage.jsx","webpack://kinopoisk/./src/4UI/Buttons/MainButton/MainButton.module.css?9862","4UI/Buttons/MainButton/MainButton.jsx","webpack://kinopoisk/./src/4UI/Input/MainInput/MainInput.module.css?64b0","4UI/Input/MainInput/MainInput.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container_Registration\":\"Registation_container_Registration__PL-7z\",\"regAnim\":\"Registation_regAnim__y06V4\",\"h2_Registration__Header\":\"Registation_h2_Registration__Header__GSD3m\",\"p_Registration__Alternate_Join\":\"Registation_p_Registration__Alternate_Join__IFPMh\",\"check\":\"Registation_check__QhlLk\"};","import MainButton from '../../../4UI/Buttons/MainButton/MainButton';\r\nimport MainInput from '../../../4UI/Input/MainInput/MainInput';\r\nimport cl from './Registation.module.css';\r\nimport { useState } from 'react';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport { auth } from '../../../FireBase/FireBase';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst Registration = () => {\r\n    const [email, setEmail] = useState(null);\r\n    const [password, setPassword] = useState(null);\r\n\r\n    // функция, регистрирующая пользователя на firebase\r\n    function handleSignUp(e) {\r\n        e.preventDefault()\r\n\r\n        createUserWithEmailAndPassword(auth, email, password).catch((err) => { alert(err); })\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSignUp} className={cl.container_Registration}>\r\n            <h2 className={cl.h2_Registration__Header}>\r\n                Регистрация\r\n            </h2>\r\n            <MainInput onChange={(e) => setEmail(e.target.value)} type='text' placeholder='Email' />\r\n            <MainInput onChange={(e) => setPassword(e.target.value)} type='password' placeholder='Password' />\r\n            <MainButton onClick={handleSignUp}>Зарегистрироваться</MainButton>\r\n            <p className={cl.p_Registration__Alternate_Join}>Или выполните <Link to='/signIn'>вход!</Link></p>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Registration;","import { useSelector } from \"react-redux\";\r\nimport Registration from \"../../../../2MODULES/Auth/Registration/Registration\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useLayoutEffect } from \"react\";\r\nimport { auth } from \"../../../../FireBase/FireBase\";\r\nimport { database } from \"../../../../FireBase/FireBase\";\r\nimport { child, push, ref, set, update } from \"firebase/database\";\r\n\r\n// Проверяет зарегестрирован ли пользователь\r\nconst AuthPage = () => {\r\n    const currentUser = useSelector(state => state.currentUser.user);\r\n    const navigate = useNavigate();\r\n    const locationState = useLocation();\r\n    const prevRef = locationState.state;\r\n\r\n    useLayoutEffect(() => {\r\n        if(currentUser) {\r\n            if (prevRef) {\r\n                navigate(prevRef.slice(1), {replace: true})\r\n            } else {\r\n                navigate('/', {replace: true})\r\n                // Добавляет юзера в БД\r\n                update(ref(database, \"Users\"), {\r\n                   [auth.currentUser.uid]: \"\" \r\n                })\r\n                // Добавляет юзеру переменную isSubscribe\r\n                set(ref(database, `Users/${auth.currentUser.uid}`), {\r\n                    isSubscribe: false\r\n                })\r\n                console.log(auth.currentUser.uid)\r\n            }\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [currentUser])\r\n\r\n    return <Registration />;\r\n};\r\n\r\nexport default AuthPage;","// extracted by mini-css-extract-plugin\nexport default {\"mainButton\":\"MainButton_mainButton__fhjMX\"};","import cl from \"./MainButton.module.css\";\n\nconst MainButton = ({ children, className, ...props}) => {\n    \n    return (\n        <button {...props} className={cl.mainButton + ' ' + className}> {children} </button>\n    );\n}\n\nexport default MainButton;","// extracted by mini-css-extract-plugin\nexport default {\"mainInput\":\"MainInput_mainInput__X3jtq\"};","\nimport cl from \"./MainInput.module.css\"\n\n\nconst MainInput = ({className, ...props}) => {\n\n    return (\n        <input {...props} className={cl.mainInput + ' ' + className} />\n    );\n}\n\nexport default MainInput;"],"names":["Registration","email","setEmail","useState","password","setPassword","handleSignUp","e","preventDefault","createUserWithEmailAndPassword","auth","catch","err","alert","_jsxs","onSubmit","className","cl","children","_jsx","MainInput","onChange","target","value","type","placeholder","MainButton","onClick","Link","to","AuthPage","currentUser","useSelector","state","user","navigate","useNavigate","prevRef","useLocation","useLayoutEffect","slice","replace","update","ref","database","uid","set","concat","isSubscribe","console","log","_ref","props"],"sourceRoot":""}